#!/usr/bin/env sh
. "$(dirname "$0")/h"

echo "üî® Building project..."

# –ó–±–∏—Ä–∞—î–º–æ –ø—Ä–æ–µ–∫—Ç
npm run build

# –ü–µ—Ä–µ–≤—ñ—Ä—è—î–º–æ —á–∏ –∑–±—ñ—Ä–∫–∞ —É—Å–ø—ñ—à–Ω–∞
if [ $? -ne 0 ]; then
  echo "‚ùå Build failed! Commit aborted."
  exit 1
fi

echo "‚úÖ Build successful!"

# –î–æ–¥–∞—î–º–æ dist –ø–∞–ø–∫—É –¥–æ staging area
git add dist/

echo "üì¶ Added dist/ to commit"

echo "‚úÖ Pre-commit checks passed!"